(function ($) {

    // Preloader

    $(".slider").imagesLoaded( function() {   
  	    $(".loading-overlay").delay(500).fadeOut("slow");   
    }); 

    // Icons

    $("#therapy-icon").prepend('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-2 -2 54 64" xml:space="preserve"> <path d="M21.948,3.416c-2.494-0.425-4.858-1.249-6.967-1.982 c-2.512-0.875-4.66-1.622-6.168-1.391c-2.937,0.45-5.095,2.066-6.534,4.609C0.735,7.379,0.001,11.18,0,15.765 c0.654,5.896,2.22,11.933,4.365,17.845c2.472,6.816,5.717,13.477,9.221,19.584l0.001,0.002l0.205,0.362 c0.818,1.448,2.765,4.905,4.552,6.083c0.773,0.51,1.517,0.545,2.094-0.344c0.25-0.385,0.233-1.331,0.222-1.978v-0.001l-0.005-0.334 v-0.004l-0.003-0.565c-0.02-2.364-0.071-8.604,1.271-13.004c0.394-1.294,0.993-2.399,1.674-3.06c0.29-0.284,0.602-0.492,0.923-0.605 c0.353-0.123,0.609-0.123,0.962,0c0.32,0.113,0.633,0.321,0.922,0.605c0.682,0.66,1.281,1.766,1.674,3.06 c1.342,4.399,1.291,10.64,1.271,13.004l-0.004,0.565v0.004l-0.004,0.334v0.001c-0.012,0.646-0.029,1.593,0.221,1.978 c0.578,0.889,1.322,0.854,2.094,0.344c1.787-1.178,3.734-4.635,4.553-6.083l0.205-0.362l0.001-0.002 c3.505-6.107,6.75-12.768,9.222-19.584C47.78,27.698,49.347,21.661,50,15.765c-0.001-4.585-0.734-8.386-2.278-11.113 c-1.439-2.543-3.598-4.159-6.533-4.609c-1.509-0.23-3.656,0.517-6.169,1.391c-2.108,0.733-4.473,1.557-6.968,1.982 C26.124,3.744,23.877,3.744,21.948,3.416z"/> <line x1="30.968" y1="21.615" x2="19.034" y2="21.615"/> <circle cx="25" cy="21.572" r="9.747"/> <line x1="25.001" y1="27.539" x2="25.001" y2="15.605"/> </svg>');	
  	$("#prosthetics-icon").prepend('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-2 -2 54 64" xml:space="preserve"> <path d="M21.949,3.416c-2.495-0.426-4.859-1.25-6.968-1.983 c-2.512-0.874-4.66-1.622-6.168-1.39c-2.937,0.45-5.095,2.065-6.534,4.608C0.735,7.379,0.001,11.18,0,15.765 c0.654,5.896,2.22,11.933,4.365,17.845c2.472,6.816,5.717,13.477,9.221,19.584l0.001,0.002l0.205,0.362 c0.818,1.448,2.765,4.905,4.552,6.083c0.773,0.51,1.517,0.545,2.094-0.344c0.25-0.385,0.233-1.33,0.222-1.977v-0.002l-0.004-0.334 v-0.003l-0.003-0.566c-0.02-2.364-0.071-8.604,1.271-13.004c0.394-1.294,0.993-2.399,1.674-3.06c0.29-0.284,0.602-0.492,0.923-0.605 c0.353-0.123,0.609-0.123,0.962,0c0.32,0.113,0.633,0.321,0.922,0.605c0.682,0.66,1.281,1.766,1.674,3.06 c1.342,4.399,1.291,10.64,1.271,13.004l-0.004,0.566v0.003l-0.004,0.334v0.002c-0.012,0.646-0.029,1.592,0.221,1.977 c0.578,0.889,1.322,0.854,2.094,0.344c1.787-1.178,3.734-4.635,4.553-6.083l0.205-0.362l0.001-0.002 c3.505-6.107,6.75-12.768,9.222-19.584C47.78,27.698,49.347,21.661,50,15.765c-0.001-4.585-0.734-8.386-2.278-11.113 c-1.439-2.543-3.598-4.159-6.533-4.608c-1.509-0.231-3.656,0.517-6.169,1.39c-2.108,0.733-4.473,1.557-6.968,1.983 C26.124,3.745,23.877,3.745,21.949,3.416z"/> <polyline points="3.134,30.055 13.285,30.055 13.285,16.938 36.716,16.938 36.716,30 46.866,29.999 "/> </svg>');	
  	$("#implantation-icon").prepend('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-2 -2 54 64" xml:space="preserve"> <path d="M21.95,3.416c-2.496-0.426-4.859-1.25-6.969-1.982c-2.512-0.874-4.66-1.622-6.168-1.391 c-2.937,0.45-5.095,2.065-6.534,4.608C0.735,7.378,0.001,11.179,0,15.764c0.654,5.896,2.22,11.933,4.365,17.845 c0.737,2.033,1.542,4.051,2.403,6.045h18.218h0.015h0.014h18.218c0.86-1.994,1.666-4.012,2.402-6.045 c2.145-5.912,3.711-11.949,4.364-17.845c-0.001-4.585-0.733-8.386-2.278-11.113c-1.438-2.543-3.598-4.159-6.533-4.608 C39.68-0.188,37.531,0.56,35.02,1.434c-2.109,0.733-4.474,1.557-6.969,1.982C26.124,3.744,23.878,3.744,21.95,3.416z"/> <polyline points="12.197,39.654 17.849,60 32.152,60 37.803,39.654 "/> <line x1="12.136" y1="52.739" x2="36.947" y2="56.714"/> <line x1="11.28" y1="46.608" x2="37.804" y2="50.858"/> </svg>');	
  	$("#surgery-icon").prepend('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-2 -2 54 64" xml:space="preserve"> <path d="M21.948,3.416c-2.494-0.425-4.858-1.249-6.967-1.982 c-2.512-0.875-4.66-1.622-6.168-1.391c-2.937,0.45-5.095,2.066-6.534,4.609C0.735,7.379,0.001,11.18,0,15.765 c0.654,5.896,2.22,11.933,4.365,17.845c2.472,6.816,5.717,13.477,9.221,19.584l0.001,0.002l0.205,0.362 c0.818,1.448,2.765,4.905,4.552,6.083c0.773,0.51,1.517,0.545,2.094-0.344c0.25-0.385,0.233-1.331,0.222-1.978v-0.001l-0.005-0.334 v-0.004l-0.003-0.565c-0.02-2.364-0.071-8.604,1.271-13.004c0.394-1.294,0.993-2.399,1.674-3.06c0.29-0.284,0.602-0.492,0.923-0.605 c0.353-0.123,0.609-0.123,0.962,0c0.32,0.113,0.633,0.321,0.922,0.605c0.682,0.66,1.281,1.766,1.674,3.06 c1.342,4.399,1.291,10.64,1.271,13.004l-0.004,0.565v0.004l-0.004,0.334v0.001c-0.012,0.646-0.029,1.593,0.221,1.978 c0.578,0.889,1.322,0.854,2.094,0.344c1.787-1.178,3.734-4.635,4.553-6.083l0.205-0.362l0.001-0.002 c3.505-6.107,6.75-12.768,9.222-19.584C47.78,27.698,49.347,21.661,50,15.765c-0.001-4.585-0.734-8.386-2.278-11.113 c-1.439-2.543-3.598-4.159-6.533-4.609c-1.509-0.23-3.656,0.517-6.169,1.391c-2.108,0.733-4.473,1.557-6.968,1.982 C26.124,3.744,23.877,3.744,21.948,3.416z"/> <line x1="31.896" y1="14.762" x2="18.19" y2="28.467"/> <line x1="31.847" y1="28.417" x2="18.142" y2="14.713"/> </svg>');	
  	$("#x-ray-icon").prepend('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-2 -2 54 64" xml:space="preserve"> <path d="M21.932,3.416c-2.494-0.425-4.858-1.249-6.967-1.982c-2.512-0.875-4.66-1.622-6.168-1.391 C5.86,0.493,3.702,2.109,2.263,4.652C0.719,7.379-0.015,11.18-0.016,15.765c0.654,5.896,2.22,11.933,4.365,17.844 c2.472,6.816,5.717,13.478,9.221,19.584l0.001,0.002l0.205,0.363c0.818,1.447,2.765,4.904,4.552,6.082 c0.773,0.51,1.517,0.545,2.094-0.344c0.25-0.385,0.233-1.331,0.222-1.979l0,0l-0.005-0.334V56.98l-0.003-0.565 c-0.02-2.364-0.071-8.604,1.271-13.004c0.394-1.294,0.993-2.399,1.674-3.06c0.29-0.285,0.602-0.492,0.923-0.605 c0.353-0.123,0.609-0.123,0.962,0c0.321,0.113,0.633,0.32,0.922,0.605c0.682,0.659,1.281,1.766,1.674,3.06 c1.342,4.399,1.291,10.64,1.271,13.004L29.33,56.98v0.004l-0.005,0.334l0,0c-0.012,0.646-0.028,1.594,0.222,1.979 c0.578,0.889,1.321,0.854,2.094,0.344c1.787-1.178,3.734-4.635,4.553-6.082l0.205-0.363l0.001-0.002 c3.505-6.106,6.75-12.768,9.222-19.584c2.143-5.911,3.711-11.948,4.363-17.844c-0.001-4.585-0.734-8.386-2.277-11.113 c-1.439-2.543-3.599-4.159-6.533-4.609c-1.51-0.23-3.656,0.517-6.17,1.391c-2.107,0.733-4.473,1.557-6.967,1.982 C26.108,3.744,23.861,3.744,21.932,3.416z"/> <path d="M35.072,22.784l-6.292-0.349c-0.021,0.69-0.205,1.385-0.576,2.026c-0.37,0.638-0.878,1.147-1.467,1.513l3.452,5.273 c0,0,2.634-0.595,4.162-3.242C35.88,25.358,35.072,22.784,35.072,22.784z"/> <path d="M24.913,18.923c0.738,0,1.436,0.186,2.044,0.512l2.844-5.622c0,0-1.834-1.987-4.891-1.987c-3.058,0-4.883,1.987-4.883,1.987 l2.844,5.622C23.479,19.108,24.174,18.923,24.913,18.923z"/> <path d="M21.763,24.541c-0.369-0.639-0.556-1.335-0.577-2.026l-6.291,0.35c0,0-0.805,2.582,0.725,5.229 c1.528,2.647,4.162,3.233,4.162,3.233l3.447-5.272C22.641,25.689,22.133,25.181,21.763,24.541z"/> </svg>');
  	$("#orthodontics-icon").prepend('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-2 -2 54 64" xml:space="preserve"> <path d="M21.948,3.416c-2.494-0.425-4.858-1.249-6.967-1.982c-2.512-0.875-4.66-1.622-6.168-1.391 c-2.937,0.45-5.095,2.066-6.534,4.609C0.735,7.379,0.001,11.18,0,15.765c0.654,5.896,2.22,11.933,4.365,17.844 c2.472,6.816,5.717,13.478,9.221,19.584l0.001,0.002l0.205,0.363c0.818,1.447,2.765,4.904,4.552,6.082 c0.773,0.51,1.517,0.545,2.094-0.344c0.25-0.385,0.233-1.331,0.222-1.979l0,0l-0.005-0.334V56.98l-0.003-0.565 c-0.02-2.364-0.071-8.604,1.271-13.004c0.394-1.294,0.993-2.399,1.674-3.06c0.29-0.285,0.602-0.492,0.923-0.605 c0.353-0.123,0.609-0.123,0.962,0c0.321,0.113,0.633,0.32,0.922,0.605c0.682,0.659,1.281,1.766,1.674,3.06 c1.342,4.399,1.291,10.64,1.271,13.004l-0.004,0.565v0.004l-0.005,0.334l0,0c-0.012,0.646-0.028,1.594,0.222,1.979 c0.578,0.889,1.321,0.854,2.094,0.344c1.787-1.178,3.734-4.635,4.553-6.082l0.205-0.363l0.001-0.002 c3.505-6.106,6.75-12.768,9.222-19.584c2.143-5.911,3.711-11.948,4.363-17.844c-0.001-4.585-0.734-8.386-2.277-11.113 c-1.439-2.543-3.599-4.159-6.533-4.609c-1.51-0.23-3.656,0.517-6.17,1.391c-2.107,0.733-4.473,1.557-6.967,1.982 C26.124,3.744,23.877,3.744,21.948,3.416z"/> <rect x="15.253" y="11.826" width="19.494" height="19.493"/> <line x1="15.253" y1="21.572" x2="0.92" y2="21.572"/> <line x1="49.08" y1="21.615" x2="34.747" y2="21.615"/> </svg>');
 
    // Banners

    $(".service-banner__image, .promo__image, .banner").each(function() {
        var imgUrl = $(this).attr('data-image-src');
        $(this).css('background-image', 'url('+imgUrl+')');      
    }); 

    $(".service-banner").each(function(i) {
        $(this).addClass("service-banner-"+(i+1));
    });
 
  	$(".service-banner-1, .service-banner-2").wrapAll('<div class="service-banners__col"></div>');		
  	$(".service-banner-3, .service-banner-4").wrapAll('<div class="service-banners__col"></div>');
  	$(".service-banner-5, .service-banner-6").wrapAll('<div class="service-banners__col"></div>');

    // Accordion

    $(".accordion-item__header").click(function () {
        $(this).next(".accordion-item__body").slideToggle();
        $(this).parent(".accordion-item").toggleClass("accordion-item--expanded");
    });

    // Sliders

    const slider = new Swiper ('.view-homepage-slider__content', {
        loop: true,
        effect: "fade",
        speed: 800,
        slidesPerView: 1,
        spaceBetween: 0,
        autoplay: {
            delay: 5000,
        },
    })

    const doctorSlider = new Swiper ('.doctor-slider', {
        loop: true,
        speed: 500,
        navigation: {
          nextEl: '.doctor-slider__button-next',
          prevEl: '.doctor-slider__button-prev',
        },
        breakpoints: {
          320: {
            slidesPerView: 1,
            spaceBetween: 16,
          },
          768: {
            slidesPerView: 3,
            spaceBetween: 16,
          },
          992: {
            slidesPerView: 4,
            spaceBetween: 16,
          },
          1200: {
            slidesPerView: 5,
            spaceBetween: 32,
          },
        }
    })

    // Header

    $(window).scroll(function(){
        var header = $(".header"),
            scroll = $(window).scrollTop();      
        if (scroll >= 1) header.addClass("header--sticky");
        else header.removeClass("header--sticky");
    });	

    // Popup    
    	
  	$(".region-popup").append('<button class="popup-close"><span></span><span></span></button>'); 
	
  	$(".popup-close, .popup-overlay").click(function () {	
        $(".popup").fadeOut();	
  	});

    // Time picker

    $(".time-picker-day").each(function(){
      $(this).next(".time-slot-list").addBack().wrapAll('<div class="time-picker-item swiper-slide"></div>');
    });

    const timeSlider = new Swiper ('.time-picker-slider', {
        speed: 200,
        spaceBetween: 16,
        navigation: {
          nextEl: '.time-picker-slider__next',
          prevEl: '.time-picker-slider__prev',
        },
        breakpoints: {
          320: {
            slidesPerView: 1,
            spaceBetween: 16,
          },
          768: {
            slidesPerView: 3,
            spaceBetween: 16,
          },
        }
    })

    $(".time-picker-day").click(function () {
        $(this).addClass("time-picker-day--active");
        $(".time-picker-day").not(this).removeClass("time-picker-day--active");
        $(".time-picker-day").not(this).closest(".time-picker-item").find(".time-slot-list__item").removeClass("time-slot-list__item--active");
    });

    $(".time-slot-list__item").click(function () {
        $(this).addClass("time-slot-list__item--active");        
        $(".time-slot-list__item").not(this).removeClass("time-slot-list__item--active");
        $(".time-picker-day").removeClass("time-picker-day--active");
        $(this).closest(".time-picker-item").find(".time-picker-day").addClass("time-picker-day--active");
        $(".popup").fadeIn();

        var doctorid = $(this).closest(".doctor").find(".doctor__id").text();
        var doctorName = $(this).closest(".doctor").find(".doctor__name").text();
        var date = $(this).closest(".time-picker-item").find(".time-picker-day__date .datetime").text();
        var time = $(this).find(".datetime").text();

        $('input[name="appointment_id"]').val(doctorid)
        $('input[name="appointment_doctor"]').val(doctorName)
        $('input[name="appointment_date"]').val(date)
        $('input[name="appointment_time"]').val(time)
    });
  
    $(".time-slot-list__item:contains('null')").closest(".time-picker").addClass("hidden");

    // Phone field

    $(".form-item-appointment-phone input").mask("+375 (99) 999-99-99");

})(jQuery);